---
import { ChevronDown } from '@lucide/astro';

const navLinks = [
  {
    title: 'Productos',
    href: '#',
    dropdown: true,
    dropdownItems: [
      { title: 'Producto 1' },
      { title: 'Producto 2' },
      { title: 'Producto 3' },
    ],
  },
  { title: 'Nosotros', href: '#' },
  { title: 'Contacto', href: '#' },
];
---

<header class="bg-white flex flex-col justify-between px-4 py-4 shadow-md z-50">
  <div class="flex items-center gap-2 justify-between">
    <img
      src="/explofy-logo.svg"
      alt="Explofy Catalani Factory"
      class="h-20 ml-20 mb-10"
    />
    <div class="flex flex-row items-center gap-2">
      <img src="/phone-icon.svg" alt="Phone Icon" class="h-10" />
      <p class="text-[#004B64] flex flex-col font-bold">
        Â¡Hola!<span class="text-black font-normal">(+54) 0261 4960201</span>
      </p>
    </div>
  </div>

  <div
    class="flex flex-row justify-center absolute self-center left-0 bottom-0 right-0 z-50"
  >
    <nav
      class="hidden md:flex items-center gap-8 text-white bg-[#004B64] font-medium min-w-3xl justify-between relative"
    >
      {
        navLinks.map((link) => (
          <div class="relative group">
            <a
              href={link.href}
              aria-haspopup={link.dropdown ? 'true' : undefined}
              class="hover:underline px-6 flex flex-row items-center gap-1"
            >
              {link.title}
              {link.dropdown && (
                <ChevronDown class="transition-transform duration-300 group-hover:rotate-180" />
              )}
            </a>

            {link.dropdown && link.dropdownItems && (
              <ul class="absolute hidden group-hover:block bg-[#004B64] text-white shadow-md mt-2 rounded-md min-w-[150px] z-50">
                {link.dropdownItems.map((item) => (
                  <li>
                    <a
                      href="#"
                      class="block px-4 py-2 hover:bg-white hover:text-[#004B64]"
                    >
                      {item.title}
                    </a>
                  </li>
                ))}
              </ul>
            )}
          </div>
        ))
      }

      <a
        href="#"
        class="bg-[#f5a623] text-white py-6 px-20 font-bold hover:bg-[#e59820] relative inline-block"
        style="clip-path: polygon(10% 0%, 100% 0%, 100% 100%, 0% 100%);"
      >
        Cotizar
      </a>
    </nav>
  </div>
</header>
